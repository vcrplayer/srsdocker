[supervisord]
nodaemon = true
user = root
#loglevel = debug

[program:xvfb]
command = /usr/bin/Xvfb :1 -screen 0 1280x1024x24
priority = 100
stdout_logfile = /dev/stdout
stdout_logfile_maxbytes = 0
stderr_logfile = /dev/stderr
stderr_logfile_maxbytes = 0

[program:x11vnc]
environment = DISPLAY=":1",XAUTHLOCALHOSTNAME="localhost"
command = /usr/bin/x11vnc -repeat -xkb -noxrecord -noxfixes -noxdamage -wait 10 -shared -permitfiletransfer -tightfilexfer -rfbauth /.password2
autorestart = true
priority = 200 
stdout_logfile = /dev/stdout
stdout_logfile_maxbytes = 0
stderr_logfile = /dev/stderr
stderr_logfile_maxbytes = 0

[program:startxfce4]
environment = USER="root",HOME="/root",DISPLAY=":1"
command = /usr/bin/startxfce4
autorestart = true
directory = /root
user = root
priority = 300
stdout_logfile = /dev/stdout
stdout_logfile_maxbytes = 0
stderr_logfile = /dev/stderr
stderr_logfile_maxbytes = 0

## Supervisord configuration to autostart SRS

[program:srs]
priority=35
command=/srs.sh
directory=/data
user=root
startsecs=15
autorestart=false
environment=DISPLAY=":1",HOME="/root",USER="root"
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0